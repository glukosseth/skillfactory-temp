#cloud-config
users:
  - name: ansible
    groups: users, admin
    sudo: ALL=(ALL) NOPASSWD:ALL
    shell: /bin/bash
    ssh_authorized_keys:
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC2K1AVFrzIEDwn+mXctZ3Ny7GM4ndfX4c6Q4BbmEK2XQyii6VTL8K/XqRvc/rvMSplsI0lkV3A3AfoqUOHyyMIzUTOjqyj54BlzDBMafCoItatL9Mfvp8vKZ8XCepiD7csxnOVzcmUOdOehfsoiX+XN9xLhnqjdSJvJF04UGivfQ4zeX8/ogt9BV15Eg1NHK4cGa00aLGH1ywMLbBc973FgKV57C8YyKpOfHO8sptsqsaohfFCb9vOUj7jYWf636Oev53c8dROHDn0uZf/px52V8iiwZplcoqmTUeCWSCdirbn5Ak9yI3asn3UMaJLGeZlZAuR3LysptIqOawihp6u8DIHe38b0p6yuumoYZ2MQ4lPVKl9KyVbhagJ6R3a3p4Tc86xtkmVQRD+CzPsoB9PEoVodq2glq7J3De9vkJLY/zTa9OhL1DvpXzqxf6nZd1cUHBCoocbcStHKS1RTBguFUOrIVavEA3Bi/vAWhoBxO8qUxrT9ZAAvClle9fQGMM= user@serv
package_update: true
package_upgrade: true
packages:
  - git
  - python3-pip
ansible:
  package_name: ansible-core
  install_method: pip
write_files:
  - path: /home/ansible/.ssh/id_rsa
    owner: ansible:ansible
    permissions: 0o600
    defer: true
    encoding: base64
    content: |
      LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJsd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFZRUF0aXRRRlJhOHlCQThKL3BsM0xXZHpjdXhqT0ozWDErSE9rT0FXNWhDdGwwTW9vdWxVeS9DCnYxNmtiM1A2N3pFcVpiQ05KWkZkd053SDZLbERoOHNqQ00xRXpvNnNvK2VBWmN3d1RHbndxQ0xXclMvVEg3NmZMeW1mRncKbnFZZyszTE1aemxjM0psRG5Ubm9YN0tJbC9semZjUzRaNm8zVWlieVJkT0ZCb3IzME9NM2wvUDZJTGZRVmRlUklOVFJ5dQpIQm10TkdpeGg5Y3NEQzJ3WFBlOXhZQ2xlZXd2R01pcVRueHp2TEtiYktyR3FJWHhRbS9iemxJKzQyRm4rdCtqbnIrZDNQCkhVVGh3NTlMbVgvNmNlZGxmSW9zR2FaWEtLcGsxSGdsa2duWXEyNStRSlBjaU4ycko5MURHaVN4bm1aV1FMa2R5OHJLYlMKS2ptc0lvYWVydkF5QjN0L0c5S2VzcnJwcUdHZGpFT0pUMVNwZlNzbFc0V29DZWtkMnQ2ZUUzUE9zYlpKbFVFUS9nc3o3SwpBZlR4S0ZhSGF0b0phdXlkdzN2YjVDUzJQODAydlRvUzlRNzZWODZzWCtwMlhkWEZCd1FxS0hHM0VyUnlrdFVVd1lMaFZECnF5RldyeEFOd1l2N3dGb2FBY1R2S2xNYTAvV1FBTHdwWlh2WDBCakRBQUFGZ1BDNXFZRHd1YW1BQUFBQUIzTnphQzF5YzIKRUFBQUdCQUxZclVCVVd2TWdRUENmNlpkeTFuYzNMc1l6aWQxOWZoenBEZ0Z1WVFyWmRES0tMcFZNdndyOWVwRzl6K3U4eApLbVd3alNXUlhjRGNCK2lwUTRmTEl3ak5STTZPcktQbmdHWE1NRXhwOEtnaTFxMHYweCsrbnk4cG54Y0o2bUlQdHl6R2M1ClhOeVpRNTA1NkYreWlKZjVjMzNFdUdlcU4xSW04a1hUaFFhSzk5RGpONWZ6K2lDMzBGWFhrU0RVMGNyaHdaclRSb3NZZlgKTEF3dHNGejN2Y1dBcFhuc0x4aklxazU4Yzd5eW0yeXF4cWlGOFVKdjI4NVNQdU5oWi9yZm81Ni9uZHp4MUU0Y09mUzVsLworbkhuWlh5S0xCbW1WeWlxWk5SNEpaSUoyS3R1ZmtDVDNJamRxeWZkUXhva3NaNW1Wa0M1SGN2S3ltMGlvNXJDS0ducTd3Ck1nZDdmeHZTbnJLNjZhaGhuWXhEaVU5VXFYMHJKVnVGcUFucEhkcmVuaE56enJHMlNaVkJFUDRMTSt5Z0gwOFNoV2gycmEKQ1dyc25jTjcyK1FrdGovTk5yMDZFdlVPK2xmT3JGL3FkbDNWeFFjRUtpaHh0eEswY3BMVkZNR0M0VlE2c2hWcThRRGNHTAorOEJhR2dIRTd5cFRHdFAxa0FDOEtXVjcxOUFZd3dBQUFBTUJBQUVBQUFHQVI3eW12S2RIa0VGVWJ5bmNFeDR5Rm1pd2NwCnA4QjhMR3Jkc0hJUXJFdXF2SjNmakFFaElzenMrbVVYMkt3OGJJdTJMYk1vQWNPMlpxZHVTeEF6aXJnenZTYk1VaWx5a0QKRnhOaHNiWEdYMi9ZdWpxckdVVW55cHJKVzNrOEk0R3MwS1VWdjFoYW1WUnNVWERSaHhVZWVaNDEwa2dTNDJ1dE03ZE9QbQo3cnlxK2tlQURRYTI2VXQ1YjFTRWdqbE1wR2hpcFdXdDBmakM3ZjJhdmtWN2YzczE4Rnl3MkhQbXRISmNFOGtvS0RVamV1Ckk0OGJndDRwNFFYaVhnaHR1ZzEyNTBvUkhtMUpXU1F0NS9idnFKRWc4SkE2QUZzaDg1cjdBR0I3NnZ0WXhESDFxRS9xSUQKamdjUmxrYUpwK3N1SktaNm5EemI0NWh2NXVUYkg4OE1oVEhBL1pQcWVjZWxmZWs4V25VNkY4MzdsWjN0ZG1CbXBEbHNGOApjZko2YllBSkwvbEh2Q3AremxiZThRbWZKa055aDJoL3FXOFFwc0dMM1hnWmVTQ3VaTWh5SVNGcDdKNUUzM0grV1E1cU0wCmN6QW90dXBsbUFSU0MyQ3phTVNzeXVQZmJlVU8wb3VObGRlNnNuQU94ckt0dW5FVytHVTJxQWVXTTk2VzRLQWlhQkFBQUEKd0FiRFo3OEJZRFNpMG9ZUEhXUEFZWmxCbnVUZ1dxak1oU21TdGU5K0IwbWlxdTZsdWFWeWVYYnpkZTNXV0w3MUZnc003VQp2dHMzZGVIcE1PR1VQYUZseXNjRFU4WXhlcWhlL0NiSklmWFA2KzR0VFdaRk5oZmZCdUg5VzJoTGZVNjVWY241SThLVkQ3CkJDaTk3UVBJREJUQlJKVTRSTnRBRm5UWXR5UDBBQVZpekxoZTFoVHBBUzh5Vi9kd0Z5cVJQTEUwUGNxeXZBajdYbGRZU2MKZGhSMTl6N2lVMlZMZTBWQVVTSFozY3ZRZ01rdWtLdHNpOCtEdEYyVEtnLzl6ajJBQUFBTUVBNEExRktJWkpzK1RoSDI5TQpDcC9nQUttcmZBWDhBMW92eCtQL1ZJcDE1VWwyaHNIVk9DQmE1S01sWmp6M3RFOG5HYkZxZ0o2ekd4eStkU1hFdm9Yak9lCjdrenhjRVU3Y0lqMlptQWlGNm9SNC85Ri9FcXZCV3E3RGpCdnB4NkczWjBkTWxwY1RiZWhFTjY3ZTdrQzdlQlN3M0VTZm8KdGVzYy94cmRlTWpyM05qTVZJSnhPQXB0NzB4Qy95a01KemhCZmYySUhTQlJJdmpGYmdmeStHZ3N2QjJ0ek9EU0x5Y1VpegpIVE14cEwydWZsQVFKTEk1dGpSTnFMRzRYcjZzRjlBQUFBd1FEUUpTdGpWYmlRanpQa1VkYlZiK1lLaWZ0WEZySVRaN2xZCit3UFIxNFI1bmRjMkVWc1FRc2JIeHhQWXgxeUhpOFFkOHFKcjJJeWNrZlcvM2Y3YU1KL01SRG1PRm5FOVdnZW93NEJpRTQKaWowcWx6M0pBWGJMT3lLVlNjUWQ4MThvYUVsRFJYSmxTZitNN0hBeWtxYkQ5dlo1VzkyT2Z2RjZBVjhkbGlZTFhET2kyego0c1NEYUtRc3VDZ3hvdklxbm94Z2UxMjd1Z0xoSVZCTjBOaVJkZ0NiVndIZmFHcTZuTHJLQnFaeXRleTE4OS81S1RjamtWCjRONWRUQ2RraTlWejhBQUFBSmRYTmxja0J6WlhKMkFRST0KLS0tLS1FTkQgT1BFTlNTSCBQUklWQVRFIEtFWS0tLS0tCg==
